<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Notes</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="notes-bg">
    <script>
  if (localStorage.getItem('isLoggedIn') !== 'true') {
    window.location.href = 'login.html';
  }
</script>
  <div class="container">
    <h1>Notes</h1>
    <form id="note-form">
      <input type="text" id="note-input" placeholder="Write a note..." required>
      <button type="submit">Add Note</button>
    </form>
    <div id="notes-list" class="cards"></div>
    <button id="back-btn" onclick="window.location.href='index.html'">‚Üê Back to Home</button>
  </div>
  <script>
    let notes = JSON.parse(localStorage.getItem('notes')) || [];

    function renderNotes() {
      const notesList = document.getElementById('notes-list');
      notesList.innerHTML = '';
      if (notes.length === 0) {
        notesList.innerHTML = '<p>No notes yet.</p>';
        return;
      }
      notes.forEach((note, idx) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <p id="note-text-${idx}">${note}</p>
          <button onclick="editNote(${idx})" class="edit-btn">Edit</button>
          <button onclick="deleteNote(${idx})" class="buy-btn" style="background:#e74c3c;">Delete</button>
        `;
        notesList.appendChild(card);
      });
    }

    document.getElementById('note-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const noteInput = document.getElementById('note-input');
      notes.push(noteInput.value);
      localStorage.setItem('notes', JSON.stringify(notes));
      noteInput.value = '';
      renderNotes();
    });

    window.editNote = function(idx) {
      const newNote = prompt('Edit your note:', notes[idx]);
      if (newNote !== null && newNote.trim() !== '') {
        notes[idx] = newNote.trim();
        localStorage.setItem('notes', JSON.stringify(notes));
        renderNotes();
      }
    };

    window.deleteNote = function(idx) {
      if (confirm('Delete this note?')) {
        notes.splice(idx, 1);
        localStorage.setItem('notes', JSON.stringify(notes));
        renderNotes();
      }
    };

    renderNotes();
  </script>
</body>
</html>